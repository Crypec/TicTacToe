<meta charset="utf-8"/>
    <HTML>
        <BODY background = black> 
            <Table width = 100%>
                <TR>
                    <input type= button value="-" onClick="javascript: enterButton(0, 0);" id=button1></input>
                    <input type= button value="-" onClick="javascript: enterButton(0, 1);" id=button2></input>
                    <input type= button value="-" onClick="javascript: enterButton(0, 2);" id=button3></input>
                    <br>
                </TR>
                <TR>
                    <input type= button value="-" onClick="javascript: enterButton(1, 0);" id=button4></input>
                    <input type= button value="-" onClick="javascript: enterButton(1, 1);" id=button5></input>
                    <input type= button value="-" onClick="javascript: enterButton(1, 2);" id=button6></input>
                    <br>
                </TR>
                <TR>
                    <input type= button value="-" onClick="javascript: enterButton(2, 0);" id=button7></input>
                    <input type= button value="-" onClick="javascript: enterButton(2, 1);" id=button8></input>
                    <input type= button value="-" onClick="javascript: enterButton(2, 2);" id=button9></input>
                    <br>
                </TR>
                
            <script>
                var list = [
                    [0,0,0],
                    [0,0,0],
                    [0,0,0]
                    ];
                var playerOneAmount = 0;
                var playerTwoAmount = 0;

                var p1 = 1;
                var p2 = 2;
                var actPlayer = 1;

                function enterButton(x, y){
                    if (actPlayer == 1 && list[x][y] == 0) {
                        list[x][y] = 1;
                        checkBoard(x, y);
                        actPlayer = 2;
                    }
                    else if (actPlayer == 2 && list[x][y] == 0) {
                        list[x][y] = 2;
                        checkBoard(x, y);
                        actPlayer = 1;
                    }
                    else if (actPlayer == 1 && list[x][y] != 0) {
                        alert("FELD BESETZT");
                    }
                    else if (actPlayer == 2 && list[x][y] != 0) {
                        alert("FELD BESETZT");
                    }
                }

                function checkField() {
                    let cicle = true;
                    for (i = 0; i < list.length; i++ ){
                        if(i <= 2) {
                            if(list[i][0] == list[i][1] && list[i][0] == list[i][2] && list[i][0] != 0){
                                return actPlayer;
                                
                            }
                            else if(list[0][i] == list[1][i] && list[0][i] == list[2][i] && list[0][i] != 0){
                                return actPlayer;
                                
                            }
                            else if(list[0][0] == list[1][1] && list[0][0] == list[2][2] && list[0][0] != 0){
                                return actPlayer
                                
                            }
                            else if(list[0][2] == list[1][1] && list[0][2] == list[2][0] && list[0][2] != 0){
                                return actPlayer;
                            }
                        }
                        else{
                            return 0;
                        }
                    }
                }

                function checkBoard(x, y){
                    
                    changeButtonValue(x, y)
                    let zwischenVariable = checkField()

                    if(playerOneAmount == 5 && playerTwoAmount == 4 && zwischenVariable == 0) {
                        alert("UNENTSCHIEDEN");
                        resetTable();
                    }
                    else {
                        if(zwischenVariable == 1){
                            alert("Player " + 1 + " has won");
                            resetTable();
                        }
                        else if(zwischenVariable == 2){
                            alert("Player " + 2 + " has won.");
                            resetTable();
                        }
                    }
                }

                function resetTable() {
                    list = [
                    [0,0,0],
                    [0,0,0],
                    [0,0,0]
                    ];
                    actPlayer = 1;

                    document.getElementById("button1").value = "-";
                    document.getElementById("button2").value = "-";
                    document.getElementById("button3").value = "-";
                    document.getElementById("button4").value = "-";
                    document.getElementById("button5").value = "-";
                    document.getElementById("button6").value = "-";
                    document.getElementById("button7").value = "-";
                    document.getElementById("button8").value = "-";
                    document.getElementById("button9").value = "-";

                }

                function changeButtonValue(x, y){
                    if (x == 0 && y == 0){
                        if (actPlayer == 1){
                            document.getElementById("button1").value = "X";
                            playerOneAmount = playerOneAmount + 1;
                        }
                        else if (actPlayer == 2){
                            document.getElementById("button1").value = "O";
                            playerTwoAmount = playerTwoAmount + 1;
                        }
                    }
                    else if (x == 0 && y == 1){
                        if (actPlayer == 1){
                            document.getElementById("button2").value = "X";
                            playerOneAmount = playerOneAmount + 1;
                        }
                        else if (actPlayer == 2){
                            document.getElementById("button2").value = "O";
                            playerTwoAmount = playerTwoAmount + 1;
                        }
                    }
                    else if (x == 0 && y == 2){
                        if (actPlayer == 1){
                            document.getElementById("button3").value = "X";
                            playerOneAmount = playerOneAmount + 1;
                        }
                        else if (actPlayer == 2){
                            document.getElementById("button3").value = "O";
                            playerTwoAmount = playerTwoAmount + 1;
                        }
                    }
                    else if (x == 1 && y == 0){
                        if (actPlayer == 1){
                            document.getElementById("button4").value = "X";
                            playerOneAmount = playerOneAmount + 1;
                        }
                        else if (actPlayer == 2){
                            document.getElementById("button4").value = "O";
                            playerTwoAmount = playerTwoAmount + 1;
                        }
                    }
                    else if (x == 1 && y == 1){
                        if (actPlayer == 1){
                            document.getElementById("button5").value = "X";
                            playerOneAmount = playerOneAmount + 1;
                        }
                        else if (actPlayer == 2){
                            document.getElementById("button5").value = "O";
                            playerTwoAmount = playerTwoAmount + 1;
                        }
                    }
                    else if (x == 1 && y == 2){
                        if (actPlayer == 1){
                            document.getElementById("button6").value = "X";
                            playerOneAmount = playerOneAmount + 1;
                        }
                        else if (actPlayer == 2){
                            document.getElementById("button6").value = "O";
                            playerTwoAmount = playerTwoAmount + 1;
                        }
                    }
                    else if (x == 2 && y == 0){
                        if (actPlayer == 1){
                            document.getElementById("button7").value = "X";
                            playerOneAmount = playerOneAmount + 1;
                        }
                        else if (actPlayer == 2){
                            document.getElementById("button7").value = "O";
                            playerTwoAmount = playerTwoAmount + 1;
                        }
                    }
                    else if (x == 2 && y == 1){
                        if (actPlayer == 1){
                            document.getElementById("button8").value = "X";
                            playerOneAmount = playerOneAmount + 1;
                        }
                        else if (actPlayer == 2){
                            document.getElementById("button8").value = "O";
                            playerTwoAmount = playerTwoAmount + 1;
                        }
                    }
                    else if (x == 2 && y == 2){
                        if (actPlayer == 1){
                            document.getElementById("button9").value = "X";
                            playerOneAmount = playerOneAmount + 1;
                        }
                        else if (actPlayer == 2){
                            document.getElementById("button9").value = "O";
                            playerTwoAmount = playerTwoAmount + 1;
                        }
                    }
                }

            </script>
        </BODY>
    </HTML>